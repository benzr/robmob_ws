tst: tst.c libdartv2i2c.a
	gcc -o tst tst.c -L. -ldartv2i2c

libdartv2i2c.a: i2c.o trex_io.o encoders_io.o sonars_io.o
	ar rcs libdartv2i2c.a i2c.o trex_io.o encoders_io.o sonars_io.o

i2c.o: i2c.c i2c.h
	gcc -c i2c.c

trex_io.o: trex_io.c trex_io.h dartv2i2cio.h crc.h
	gcc -c trex_io.c

encoders_io.o: encoders_io.c encoders_io.h dartv2i2cio.h 
	gcc -c encoders_io.c

sonars_io.o: sonars_io.c sonars_io.h dartv2i2cio.h
	gcc -c sonars_io.c

